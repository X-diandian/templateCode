<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>promise用法</title>
</head>
<body>

<!--异步：操作之间没有关系=》同时进行多个操作/代码复杂-->
<!--同步：操作并行，（一起去厕所），只能一个进行/代码简单-->
<!--promise消除异步操作-->
<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script>
    let data=[{
        "title": "HP AMD PhenomII",
        "detail": "上市时间2010 年 6月",
        "picture": "laptop_hp_1.jpg",
        "price": "3000",
        "time": "2010年1月"
    },{
        "title": "HP AMD PhenomII",
        "detail": "上市时间2010 年 6月",
        "picture": "laptop_hp_1.jpg",
        "price": "3000",
        "time": "2010年1月"
    },{
        "title": "HP AMD PhenomII",
        "detail": "上市时间2010 年 6月",
        "picture": "laptop_hp_1.jpg",
        "price": "3000",
        "time": "2010年1月"
    },{
        "title": "HP AMD PhenomII",
        "detail": "上市时间2010 年 6月",
        "picture": "laptop_hp_1.jpg",
        "price": "3000",
        "time": "2010年1月"
    },{
        "title": "HP AMD PhenomII",
        "detail": "上市时间2010 年 6月",
        "picture": "laptop_hp_1.jpg",
        "price": "3000",
        "time": "2010年1月"
    },{
        "title": "HP AMD PhenomII",
        "detail": "上市时间2010 年 6月",
        "picture": "laptop_hp_1.jpg",
        "price": "3000",
        "time": "2010年1月"
    },{
        "title": "HP AMD PhenomII",
        "detail": "上市时间2010 年 6月",
        "picture": "laptop_hp_1.jpg",
        "price": "3000",
        "time": "2010年1月"
    }]
</script>
<script type="text/javascript">
    console.log(data[0].title);



    function getNumber(){
        let p = new Promise(function(resolve, reject){
            //做一些异步操作
            setTimeout(function(){
                var num = Math.ceil(Math.random()*10); //生成1-10的随机数
                if(num<=5){
                    resolve(num);
                }
                else{
                    reject('数字太大了');
                }
            }, 2000);
        });
        return p;
    }

    getNumber()
        .then(
            function(data){
                console.log('resolved');
                console.log(data);
            },
            function(reason, data){
                console.log('rejected');
                console.log(reason);
            }
        );


</script>
</body>
</html>